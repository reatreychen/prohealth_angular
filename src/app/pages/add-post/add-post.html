<div class="max-w-7xl mx-auto p-6 font-work-sans">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-bold text-gray-900">Create New Post</h1>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

    <!-- Main Form Column (Left) -->
    <div class="lg:col-span-2">
      <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="space-y-6">

        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-lg font-semibold text-gray-900 mb-6">POST DETAILS</h2>

          <!-- Title Field -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Title <span class="text-red-500">*</span>
            </label>
            <input type="text" formControlName="title" placeholder="Enter post title"
              class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"
              [class.border-red-500]="title?.invalid && title?.touched" />
            <p *ngIf="title?.invalid && title?.touched" class="text-red-500 text-sm mt-1">
              <span *ngIf="title?.errors?.['required']">Title is required</span>
              <span *ngIf="title?.errors?.['minlength']">Minimum 5 characters</span>
            </p>
          </div>

          <!-- Content Field with Rich Editor Toolbar -->
          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">
              Content <span class="text-red-500">*</span>
            </label>

            <!-- Rich Editor Toolbar -->
            <div class="bg-gray-50 border border-gray-300 rounded-t-lg p-3 flex items-center gap-2 flex-wrap">
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Undo">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 10h10a8 8 0 018 8v3m-9-13v13m0 0l4-4m-4 4l-4-4"></path>
                </svg>
              </button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Redo">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 10h-10a8 8 0 00-8 8v3m9-13v13m0 0l-4-4m4 4l4-4"></path>
                </svg>
              </button>

              <div class="w-px h-6 bg-gray-300 mx-1"></div>

              <select class="px-2 py-1 border border-gray-300 rounded text-sm hover:bg-gray-100">
                <option>Paragraph</option>
                <option>Heading 1</option>
                <option>Heading 2</option>
                <option>Heading 3</option>
              </select>

              <div class="w-px h-6 bg-gray-300 mx-1"></div>

              <button type="button" class="p-2 hover:bg-gray-200 rounded transition font-bold" title="Bold">B</button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition italic" title="Italic">I</button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Link">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.658 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1">
                  </path>
                </svg>
              </button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Image">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
                  </path>
                </svg>
              </button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Table">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                </svg>
              </button>

              <div class="w-px h-6 bg-gray-300 mx-1"></div>

              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Bullet List">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z">
                  </path>
                </svg>
              </button>
              <button type="button" class="p-2 hover:bg-gray-200 rounded transition" title="Number List">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z">
                  </path>
                </svg>
              </button>
            </div>

            <!-- Content Textarea -->
            <textarea formControlName="content" placeholder="Write your post content here..." rows="15"
              class="w-full px-4 py-3 border border-t-0 border-gray-300 rounded-b-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
              [class.border-red-500]="content?.invalid && content?.touched"></textarea>
            <p *ngIf="content?.invalid && content?.touched" class="text-red-500 text-sm mt-1">
              <span *ngIf="content?.errors?.['required']">Content is required</span>
              <span *ngIf="content?.errors?.['minlength']">Minimum 20 characters</span>
            </p>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-4">
          <button type="submit" [disabled]="isLoading"
            class="flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white font-semibold py-3 px-6 rounded-lg transition flex items-center justify-center gap-2 shadow-sm">
            <span *ngIf="!isLoading">Publish Post</span>
            <span *ngIf="isLoading" class="flex items-center gap-2">
              <svg class="animate-spin h-5 w-5" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
              Publishing...
            </span>
          </button>
          <button type="button" (click)="onCancel()"
            class="flex-1 bg-white hover:bg-gray-50 border border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-lg transition shadow-sm">
            Cancel
          </button>
        </div>
      </form>
    </div>

    <!-- Right Sidebar Column -->
    <div class="space-y-6">

      <!-- FEATURED IMAGE Panel -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <h3 class="text-sm font-semibold text-gray-900 mb-4">POST IMAGES</h3>
        <div
          class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 hover:bg-blue-50 transition cursor-pointer"
          (click)="fileInput.click()">
          <svg class="w-12 h-12 text-gray-400 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">
            </path>
          </svg>
          <p class="text-gray-700 font-medium text-sm">Click to upload images</p>
          <p class="text-gray-500 text-xs mt-1">PNG, JPG up to 5MB</p>
        </div>
        <input #fileInput type="file" accept="image/*" multiple (change)="onImageSelected($event)" hidden />

        <!-- Image Previews -->
        <div *ngIf="imagePreviewUrls.length > 0" class="mt-4 space-y-3">
          <div *ngFor="let url of imagePreviewUrls; let i = index" class="relative group">
            <img [src]="url" alt="Image Preview" class="w-full h-40 object-cover rounded-lg border border-gray-200" />
            <button type="button" (click)="removeImage(i)"
              class="absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-90 hover:bg-red-600 transition shadow-sm">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>